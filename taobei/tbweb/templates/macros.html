{% macro product(p) -%}
<div class="m-2 p-2 border" style="width: 250px;">
    <img class="w-100" src="{{ p['cover'] if p['cover'].startswith('http') else '{}/{}'.format(config['DOMAIN_TBFILE'], p['cover']) }}" />
    <p class="text-truncate">{{ p['title'] }}</p>
    <div class="d-flex justify-content-between">
        <span class="text-monospace text-info">Â¥{{ p['price'] }}</span>
        <span class="d-inline-block text-truncate">{{ p['shop']['name'] }}</span>
    </div>
</div>
{%- endmacro %}

{% macro pagination(total, current, endpoint) -%}
<nav class="my-5">
    <ul class="pagination justify-content-center">
        <li class="page-item {{ 'disabled' if current == 1 else '' }}">
            <a class="page-link" href="{{ '#' if current == 1 else url_for(endpoint, page=current-1) }}" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
                <span class="sr-only">Previous</span>
            </a>
        </li>
        {% for i in range(1, total + 1) %}
        <li class="page-item {{ 'active' if current == i else '' }}">
            <a class="page-link" href="{{ url_for(endpoint, page=i) }}">{{ i }}</a>
        </li>
        {% endfor %}
        <li class="page-item {{ 'disabled' if current == total else '' }}">
            <a class="page-link" href="{{ '#' if current == total else url_for(endpoint, page=current+1) }}" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
            </a>
        </li>
    </ul>
</nav>
{%- endmacro %}
